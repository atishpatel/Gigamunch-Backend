application: gigamunch-omninexus
module: default
version: 1
runtime: go
api_version: go1

automatic_scaling:
  min_pending_latency: 50ms
  max_pending_latency: 100ms
  max_concurrent_requests: 80

handlers:
- url: /favicon.ico
  static_files: common/favicon.ico
  upload: common/favicon.ico

- url: /robots.txt
  static_files: common/robots.txt
  upload: common/robots.txt

- url: /common
  static_dir: common
- url: /
  static_files: app/index.html
  upload: app/index.html

- url: /gigachef/(.*).(html|js|json|css)
  static_files: chef/app/\1.\2
  upload: (.*)\.(html|js|json|css)
  secure: always

# - url: /gigachef.*
#   static_files: chef/app/index.html
#   upload: chef/app/index.html
#   http_headers:
#     Link: '<chef/dist/scripts/app.js>; rel=preload; as=script, <chef/dist/elements/elements.html>; rel=preload; as=document, <chef/dist/styles/main.css>; rel=preload; as=style'
#   secure: always

- url: (.*).(html|js|json|css)
  static_files: \1.\2
  upload: (.*)\.(html|js|json|css)
  secure: always

- url: /.*
  script: _go_app
  secure: always

env_variables:
  PROJECTID: 'gigamunch-omninexus'
