<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../bower_components/iron-collapse/iron-collapse.html">
<link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../bower_components/paper-styles/paper-styles.html">

<dom-module id="paper-collapse-item">

	<template>

		<style>
			.header {
				min-height: 48px;
				color: var(--secondary-text-color);
				@apply(--layout-horizontal);
				@apply(--layout-center-center);
				@apply(--paper-font-subhead);
			}

			.icon {
				margin-right: 24px;
				--iron-icon-height: 32px;
				--iron-icon-width: 32px;
			}

			.icon,.toogle {
				color: var(--disabled-text-color);
			}

			.content {
				padding: 0 10px;
				color: var(--primary-text-color);
				@apply(--paper-font-body1);
			}
		</style>
			<div class="header" on-tap="_toggleOpened">
				<template is="dom-if" if="[[icon]]">
					<iron-icon class="icon" src="[[src]]" icon="[[icon]]"></iron-icon>
				</template>
				<div class="flex">[[header]]</div>
				<paper-icon-button class="toogle" icon="[[_toggleIcon]]"></paper-icon-button>
			</div>
			<iron-collapse class="content" opened="{{opened}}">
				<content></content>
			</iron-collapse>
	</template>
</dom-module>

<script>

(function() {

	Polymer({
		is: 'paper-collapse-item',
		properties: {
			/**
			 * Text in the header row
			 */
			header: String,

			/**
			 * The name of the icon to use. The name should be of the
			 * form: iconset_name:icon_name.
			 */
			icon: String,

			/**
			 * If using paper-collapse-item without an iconset, you can set the
			 * src to be the URL of an individual icon image file. Note that
			 * this will take precedence over a given icon attribute.
			 */
			src: String,

			/**
			 * True if the content section is opened
			 */
			opened: {
				type: Boolean,
				reflectToAttribute: true,
				notify: true
			},

			_toggleIcon: {
				type: String,
				computed: '_computeToggleIcon(opened)'
			}
		},

		// Private methods
		_toggleOpened: function(e) {
			this.opened = !this.opened;
		},
		_computeToggleIcon: function(opened) {
			return opened ? 'app:expand-less' : 'app:expand-more';
		}
	});

})();

</script>
